<%= form_with model: [:admin, @resort], html: { class: "needs-validation" } do |f| %>
  <div data-controller="nested" class="w-75" style="min-width: 900px">

    <!-- Resorts' MAIN information section -->
    <!-- Parking Profiles -->
    <%= render "main_info_fields", f: f %>

    <!-- Always HR separate -->
    <hr>

    <!-- Filters -->
    <div class="d-flex justify-content-between align-items-start">
      <h3>Filters </h3>
      <div class="ms-2">
        <button type="button" class="btn btn-outline-primary" data-action="click->nested#add">
          Add Filter
        </button>
      </div>
    </div>

    <div id="filters" class="row g-3 mb-3">
      <%= f.fields_for :resort_filters do |ff| %>
        <div class="col-md-6">
          <%= render "filter_fields", f: ff %>
        </div>
      <% end %>
    </div>

    <template data-nested-target="template">
      <%= raw render("filter_fields", f: f, new_record: true) %>
    </template>

    <!-- Always HR separate -->
    <hr>

    <!-- Parking Profiles -->
    <%= render "parking_profiles", resort: @resort %>


    <!-- Always HR separate -->
    <hr>


    <%= f.submit class: "btn btn-primary" %>
  </div>
<% end %>
